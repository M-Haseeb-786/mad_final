// In App.js in a new project
// npm install @react-navigation/native @react-navigation/stack react-native-reanimated react-native-gesture-handler react-native-screens react-native-safe-area-context @react-native-community/masked-view

import * as React from 'react';
import { View, Text, Button } from 'react-native';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import * as RNFS from 'react-native-fs';

/**
 * Sample React Native App
 * https://github.com/facebook/react-native
 *
 * @format
 * @flow
 */
 import {
   SafeAreaView,
   StyleSheet,
   ScrollView,
   View,
   Text,
   TextInput,
   Button,
   Image,
   StatusBar,
 } from 'react-native';
 
 var RNFS = require('react-native-fs');
 var path0 = 'Books.rtf';

 RNFS.readDirAssets('')
 .then((result) =>
 {
var mainArray = [];
var finalArray0 = [];

 RNFS.readFile(path0).then(res => {
   var contentString = res.toString();

   var bookNameArray = [];
   var bookChapterArray = [];
   var bookDetailArray = [];

   // Book chapter name denoted by & sign
   for(var i = 0; i < contentString.length; i++)
   {
     var firstIndexChapter = contentString.indexOf('&',i);
     var secondIndexChapter = contentString.indexOf('&',firstIndexName+1);
     if(secondIndexChapter == -1 || firstIndexChapter == -1)
     break;
   
   var tempString = contentString.slice()
   bookChapterArray.push(tempString);
   i = secondIndexName
  }

  // Book Name Heading denoted by @ sign
  for(var i = 0; i< contentString.length; i++)
   {
     var firstIndexHeading = contentString.indexOf('@',i);
     var secondIndexHeading = contentString.indexOf('@',firstIndexName+1);
     if(secondIndexHeading == -1 || firstIndexHeading == -1)
     break;
   

   var tempString = contentString.slice()
   bookNameArray.push(tempString);
   i = secondIndexHeading;
  }

  // Book chapter Details denoted by $ sign
  for(var i = 0; i< contentString.length; i++)
  {
    var firstIndexDetail = contentString.indexOf('$',i);
    var secondIndexDetail = contentString.indexOf('$',firstIndexName+1);
    if(secondIndexDetail == -1 || firstIndexDetail == -1)
    break;
  

  var tempString = contentString.slice()
  bookDetailArray.push(tempString);
  i = secondIndexDetail;
 }


  for(var x = 0; x< bookDetailArray.length; i++)
  {
    var ObjectToSaveInArray = {key:x, mainArray }
    finalArray0.push(ObjectToSaveInArray);
  }
  
}
)
}

   

 
 export default class App extends React.Component {

   constructor(props) {
     super(props);
     this.state = {text: ''};
   }
 
 _onPressButton = () =>{
   //alert('Params are = ', this.props.navigation.state.params.others);
   this.props.navigation.pop();
 }
 
 _onPressNewscreen = () =>{
   this.props.navigation.navigate('Newcontroller',{
   // rollnumber:1,
   // others:'Akhzar Nazir',
   // data:'My Data',
   // compare:1,
 });
 }
 
 
 componentDidMount(){
   // alert('I am testing');
 }
 
 render() {
   return (
 
     <View style={styles.sectionContainer}>
 
       <View style={styles.subView1}>
 
         <View style={styles.subView3}>
 
 
         </View>
 
         <View style={styles.subView4}>
 
             <Text style={styles.textinput1}>
               Bilal Hashmi
             </Text>
 
             <Text style={styles.textinput2}>
               Bilal Hashmi
             </Text>
 
 
         </View>
 
       </View>
 
       <View style={styles.subView2}>
 
       </View>
 
     </View>
 
     );
   }
 }
 
 const styles = StyleSheet.create({
 
   sectionContainer: {
     flex:1,
     flexDirection:"column",
     width:"100%"
   },
 
   subView1: {
     flex:1,
     backgroundColor:"white",
     flexDirection:"row",
   },
 
   subView2: {
     flex:3,
     backgroundColor:"black"
   },
 
   subView3: {
     flex:1,
     backgroundColor:"red"
   },
 
   subView4: {
     flex:3,
     backgroundColor:"white"
   },
 
   textinput1:{
     flex:1,
     height:40,
     fontSize:18,
     borderWidth:4,
     backgroundColor:"red"
   },
 
   textinput2:{
     flex:2,
     height:40,
     fontSize:12,
     borderWidth:4,
     backgroundColor:"green"
   },
 
   body:{
     flex:4,
     height:40,
     fontSize:12,
     borderWidth:4,
     backgroundColor:"green"
   },
 });
 
 // <Text style={styles.textinput1}>
 // A Simple Text to test Flex
 // </Text>
 //
 // <Text style={styles.textinput2}>
 // A Simple Text to test Flex
 // </Text>